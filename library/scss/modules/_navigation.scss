/*********************
NAVIGATION STYLES
*********************/

.top-level-nav {
	@include clearfix();
	display:block;
	text-transform:uppercase;
	position:relative;
	width:100%;
	nav {

	}
	ul {
		display:block;
		position:relative;
		margin:0px;
		padding:0px;
		li {
			display:block;
			position:relative;
			a {
				display:block;
				margin:5px auto;
				padding:10px 5px;
				position:relative;
				text-decoration:none;
				color:$primary;
				font-weight:600;
				text-align:center;
				@include transition(color);
				@include small-font-size();
					&:hover, &:focus {
					color: $accent-dark;
					}
					.menu-item-description {
						@include xtra-small-font-size();
						font-weight:normal;
					}
			}/*EO - a */
			ul {
				display:none;
			}
			&:hover > ul {

				li {

					a{

						&:hover, &:active {

						}
					}/*EO - a */
					&.current-menu-item {
						a {

						}/*EO - a */
					}/*EO - current-menu-item */
				}/*EO - li */
			}/*EO - :hover ul */
		}/*EO - li */
	}/*EO - .main-nav ul */
	@include breakpoint(desktop) {
		nav {
			display:block;
			float:right;
		}
		ul {
			display:block;
			margin:0;
			padding:0;
			li {
				display:inline-block;
				vertical-align:top;
				position:relative;
				a {
					padding:5px 10px;
					display:block;
					text-align:left;
					@include small-font-size();
				}/*EO - a */
				&:first-of-type a {
					padding-left:0px;
				}
				ul {
					display:none;
				}
				&:hover > ul {
					display:block;
					position:absolute;
					top:35px;
					left:0px;
					z-index:999;
					padding-top:0px;
					background:$white;
					li {
						display:block;
						text-align:left;
						white-space: nowrap;
						a{
							display:block;
							width:100%;
							white-space:nowrap;
							background:$white;
							padding:10px 15px;
							margin:0px;
							color: $primary;
							transition:all 0.2s ease;
							box-shadow:0px 3px 5px black(0.2);
							&:hover, &:active {
								background:$accent-dark;
							}
						}/*EO - a */
						&.current-menu-item, &.current_page_item {
							a {
								background:$accent-dark;
								color:$white;
							}/*EO - a */
						}/*EO - current-menu-item */
						ul {
							position:relative;
							top:0;
							left:10px;
							background:$white;
							a {
								@include small-font-size();
								box-shadow:none;
								padding:4px 0px;
							}
						}
					}/*EO - li */
				}/*EO - :hover ul */
			}/*EO - li */
		}/*EO - .main-nav ul */
	}/*EO - breakpoint desktop */
	@include breakpoint(large) {
		ul {
		}/*EO - .main-nav ul */
	}/*EO - breakpoint large */
}/*EO - top-levle-nav */



.off-canvas {
	.menu-title {
		color:$accent;
		font-family:$serif;
		font-style:italic;
		border-bottom:solid 1px $accent;
		padding:0px 0px 10px 0px;
		margin:40px 40px 0px 40px;
		display:block;
	}
}
.main-menu {
	background:$primary;
	box-shadow:-20px 0px 20px rgba(0,0,0,0.2);
	ul {
		margin:0;
		padding:0px 0px 0px 10px;
		li {
			list-style:none;
			display:block;
			margin:0;
			padding:0;
			a {
				@extend .h4;
				text-decoration:none;
				color:white;
				text-transform:uppercase;
				display:block;
				transition: all 0.1s ease;
				padding:5px 0;
				&:hover, &:active {
					color:$accent;
					font-weight:300;
				}
				.menu-item-description {
					text-transform:none;
					@extend .h6;
					color:$primary-light;
					font-weight:300;
					font-family:$serif
				}
			}
		}
	}
}

/* toolkit offcanvas menu overrides */
.canvas.push-down.move-left .on-canvas, .canvas.push-reveal.move-left .on-canvas, .canvas.push.move-left .on-canvas, .canvas.reveal.move-left .on-canvas, .canvas.reverse-push.move-left .on-canvas {
    -webkit-transform: translate3d(-80%,0,0);
    transform: translate3d(-80%,0,0);
  }

.off-canvas--right {
    width: 80%;
}




/*******************************
* MENU ICON
********************************/

.menu-icon {
	position:absolute;
	top:20px;
	padding:0;
	margin:0;
	right:40px;
	z-index:9999;
	@include breakpoint(desktop){
		display:none !important;
	}
}


$tcon-size: 40px !default;
$tcon-transition: .3s !default;
$tcon-jstransform: 'tcon-transform' !default;
$tcon-menu-radius: ($tcon-size / 14) !default;
$tcon-menu-color: $accent;
$tcon-menu-arrowleft-transformation: (
  transform: scale3d(.8, .8, .8) rotate3d(0, 0, 1, 90deg)
) !default;
$tcon-menu-arrow360left-transformation: (
  transform: scale3d(.8, .8, .8) rotate3d(0, 0, 1, 360deg)
) !default;


.tcon {
  appearance: none;
  border: none;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  height: $tcon-size;
  transition: $tcon-transition;
  user-select: none;
  width: $tcon-size;
  background: transparent;
  outline: none;

  > * {
    display: block;
  }

  &:hover,
  &:focus {
    outline: none; // see issue #36 https://github.com/grayghostvisuals/transformicons/issues/36
  }
  &::-moz-focus-inner {
    border: 0;
  }
}

@mixin tcon-menu-lines {
  display: inline-block;
  height: ($tcon-size / 7);
  width: $tcon-size;
  border-radius: $tcon-menu-radius;
  transition: $tcon-transition;
  background: $tcon-menu-color;
}

.tcon-menu__lines {
  @include tcon-menu-lines;
  position: relative;

  &::before,
  &::after {
    @include tcon-menu-lines;
    content: '';
    position: absolute;
    left: 0;
    transform-origin: ($tcon-size / 14) center;
    width: 100%;
  }

  &::before {
    top: ($tcon-size / 4);
  }

  &::after {
    top: -($tcon-size / 4);
  }

  .#{$tcon-jstransform} & {
    transform: scale3d(.8, .8, .8);
  }
}
.tcon-menu--xbutterfly {
  width: auto;

  .tcon-menu__lines {
    &::before,
    &::after {
      transform-origin: 50% 50%;
      transition: top .3s .6s ease, transform .3s ease;
    }
  }

  &.#{$tcon-jstransform} {
    .tcon-menu__lines {
      background: transparent;

      &::before,
      &::after {
        top: 0;
        transition: top .3s ease, transform .3s .5s ease;
        width: $tcon-size;
      }

      &::before {
        transform: rotate3d(0, 0, 1, 45deg);
      }

      &::after {
        transform: rotate3d(0, 0, 1, -45deg);
      }
    }
  }
}

// see issue #7 https://github.com/grayghostvisuals/transformicons/issues/7#issuecomment-59813596
.tcon-visuallyhidden {
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;

  &:active,
  &:focus {
    clip: auto;
    height: auto;
    margin: 0;
    overflow: visible;
    position: static;
    width: auto;
  }
}

